<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
	<head>
	</head>
	<body>
		<!-- General -->
		<tr th:fragment="1">
			<form action="#" th:action="@{__${#httpServletRequest.requestURI}__}" method="POST" id="employeeForm" th:with="employee=${res.employee}">
				<h5>Employee Details</h5>
				<input type="hidden" name="employeeId" th:value="${res.employeeId}" value="asdf" />
		        <div class="row">
		        	<div class="col">
		        		<label for="lastName" class="form-label">First Name : </label >
	                    <input type="text" name="firstName" id="firstName" class="form-control" th:value="${employee.firstName}" th:readonly="${!isUpdate}" required>
		        	</div >
		        	<div class="col">
		        		<label for="lastName" class="form-label">Last Name</label >
	                    <input type="text" name="lastName" id="lastName" class="form-control" th:value="${employee.lastName}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
		        	<div class="col-1">
		        		<label for="suffix" class="form-label">Suffix</label >
	                    <input type="text" name="suffix" id="suffix" class="form-control" th:value="${employee.suffix}" th:readonly="${!isUpdate}" readonly>
		        	</div >
		        	<div class="col">
		        		<label for="middleName" class="form-label">Middle Name</label >
	                    <input type="text" name="middleName" id="middleName" class="form-control" th:value="${employee.middleName}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
		        	<div class="col">
		        		<label for="nickname" class="form-label">Nickname</label >
	                    <input type="text" name="nickname" id="nickname" class="form-control" th:value="${employee.nickname}" th:readonly="${!isUpdate}" readonly>
		        	</div >
		        </div>
		        <div class="row">
		        	<div class="col">
		        		<label for="cellNo" class="form-label">Cellphone Number</label >
	                    <input type="text" name="cellNo" id="cellNo" class="form-control digits" th:value="${employee.cellNo}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
		        	<div class="col">
		        		<label for="telNo" class="form-label">Telephone Number</label >
	                    <input type="text" name="telNo" id="telNo" class="form-control digits" th:value="${employee.teleNo}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
		        	<div class="col-3">
		        		<label for="emailAddress" class="form-label">Email Address</label >
	                    <input type="email" name="emailAddress" id="emailAddress" class="form-control" th:value="${employee.emailAddress}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
		        	<div class="col-2">
		        		<label for="gender" class="form-label">Gender</label >
	                    <select id="gender" class="form-select form-control" th:name="gender" name="gender" aria-label="GenderSelect"  th:disabled="${!isUpdate}" required>
							<option th:each="gender : ${genderList}" th:value="${gender.id.code}" th:text="${gender.description}" 
								th:selected="${employee.gender == gender.id.code}" >MaritalStatus</option>
						</select>
		        	</div >
		        	<div class="col-auto">
		        		<label for="birthdate" class="form-label">Birthdate</label >
	                    <input type="date" name="birthdate" id="birthdate" class="form-control" th:value="${employee.birthdate}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
		        </div>
		        <div class="row">
		        	<div class="col">
		        		<label for="maritalStatus" class="form-label">Marital Status</label >
	                    <select id="maritalStatus" class="form-select form-control" name="maritalStatus" aria-label="MaritalStatusSelect" th:disabled="${!isUpdate}" required>
							<option th:each="maritalStatus : ${maritalStatusList}" th:value="${maritalStatus.id.code}" th:text="${#strings.capitalize(maritalStatus.description)}" 
								th:selected="${employee.maritalStatus == maritalStatus.id.code}" >MaritalStatus</option>
						</select>
		        	</div >
		        	<div class="col">
		        		<label for="hiringDate" class="form-label">Hiring Date</label >
	                    <input type="date" name="hiringDate" id="hiringDate" class="form-control" th:value="${employee.hiringDate}" th:readonly="true" readonly required>
		        	</div >
		        	<div class="col">
		        		<label for="regularizationDate" class="form-label">Regularized on</label >
	                    <input type="date" name="regularizationDate" id="regularizationDate" class="form-control" th:value="${employee.regularizationDate}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
		        	<div class="col">
		        		<label for="terminationDate" class="form-label">Termination Date</label >
	                    <input type="date" name="terminationDate" id="terminationDate" class="form-control" th:value="${employee.terminationDate}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
		        </div>
		        <div class="row">
		        	<div class="col">
						<label for="company" class="form-label">Company</label>
						<select th:disabled="${!isUpdate}" id="company" class="form-select form-control" aria-label="CompanySelect" name="company" required>
							<option></option>
							<option th:each="company : ${res.employee.companyList}" th:value="${company.id.companyCode}" 
								th:text="${company.companyName}" th:selected="${employee.companyCode == company.id.companyCode}" >Company</option>
						</select>
					</div>
				    <div class="col">
						<label for="division" class="form-label">Division</label>
						<select th:disabled="${!isUpdate}" id="division" class="form-select form-control" aria-label="DivisionSelect" name="division" required>
							<option></option>
							<option th:each="division : ${res.employee.divisionList}" th:value="${division.id.divisionCode}" 
								th:text="${(division.divisionDescription != null)? division.divisionShortName + '-'+division.divisionDescription : division.divisionName}" 
								th:selected="${employee.divisionCode == division.id.divisionCode}" >Division</option>
						</select>
					</div>
				    <div class="col">
						<label for="position" class="form-label">Position</label>
						<select th:disabled="${!isUpdate}" id="position" class="form-select form-control" aria-label="PositionSelect" name="position" required>
							<option></option>
							<option th:each="position : ${res.employee.positionList}" th:value="${position.id.positionCode}" 
								th:text="${position.positionName}" th:selected="${employee.positionCode == position.id.positionCode}" >Position</option>
						</select>
					</div>
		        </div>
		        <div th:if="${isUpdate}">
		        	<hr>
			        <button class="btn btn-primary" type="submit" id="submitBtn">Save</button >
			        <button class="btn btn-secondary" type="reset">Reset</button >
			        <!--<input class="btn btn-secondary" type="reset" value="Reset">-->
			        <a class="btn btn-secondary" href="#" th:href="@{__${#httpServletRequest.requestURI}__}">Cancel</a>
		        </div >
			</form >
		</tr>
		
		<!-- Employee Address -->
		<tr th:fragment="2">
			<form action="#" th:action="@{__${#httpServletRequest.requestURI}__}" method="POST" id="employeeForm" >
		    	<h5>Employee Address</h5>
				<input type="hidden" name="employeeId" th:value="${res.employeeId}" value="" />
		        <div class="row" th:each="empAddress,iter : ${res.employeeAddressList}">
					<input type="hidden" th:name="'employeeAddress[' + ${iter.index} + '].id.addressType'" th:value="${empAddress.addressType}" />
					<input type="hidden" th:name="'employeeAddress[' + ${iter.index} + '].id.employeeId'" th:value="${res.employeeId}" />
		        	<h5 th:text="${empAddress.addressTypeName}"></h5 >
		        	<div class="col">
		        		<label th:for="'region'+${iter.index}" class="form-label">Region</label >
	                    <!--<input th:if="${!isUpdate}" type="text" name="region" th:id="'region'+${iter.index}" class="form-control" th:name="'employeeAddress[' + ${iter.index} + '].region'" th:value="${empAddress.region.regionName}" th:readonly="${!isUpdate}" readonly required>-->
	                    <select th:disabled="${!isUpdate}" th:id="'region'+${iter.index}" th:name="'employeeAddress[' + ${iter.index} + '].region'" 
	                    	class="form-select form-control" aria-label="RegionSelect" onchange="deriveAddress(this)" required>
							<option></option>
							<option th:each="regionIter : ${empAddress.regionList}" th:value="${regionIter.regionId}" 
								th:text="${regionIter.regionName}+' - '+${regionIter.regionDescription}"
								th:selected="${empAddress.region.regionId == regionIter.regionId}" >Region</option>
						</select>
		        	</div >
		        	<div class="col">
		        		<label th:for="'province'+${iter.index}" class="form-label">Province</label >
	                    <!--<input th:if="${!isUpdate}"type="text" name="province" th:id="'province'+${iter.index}" class="form-control" th:name="'employeeAddress[' + ${iter.index} + '].province'" th:value="${empAddress.province.provinceName}" th:readonly="${!isUpdate}" readonly required>-->
	                    <select th:disabled="${!isUpdate}" th:id="'province'+${iter.index}" th:name="'employeeAddress[' + ${iter.index} + '].province'" 
	                    	class="form-select form-control" aria-label="RegionSelect" onchange="deriveAddress(this)" required>
							<option></option>
							<option th:each="provinceIter : ${empAddress.provinceList}" th:value="${provinceIter.provinceId}" th:text="${provinceIter.provinceName}" 
							th:selected="${empAddress.province.provinceId == provinceIter.provinceId}" >Province</option>
						</select>
		        	</div >
		        	<div class="col">
		        		<label th:for="'municipal'+${iter.index}" class="form-label">Municipal/City</label >
	                    <!--<input th:if="${!isUpdate}"type="text" name="municipal" th:id="'municipal'+${iter.index}" class="form-control" th:name="'employeeAddress[' + ${iter.index} + '].municipal'" th:value="${empAddress.municipal.municipalName}" th:readonly="${!isUpdate}" readonly required>-->
	                    <select th:disabled="${!isUpdate}" th:id="'municipal'+${iter.index}" th:name="'employeeAddress[' + ${iter.index} + '].municipal'" 
	                    	class="form-select form-control" aria-label="RegionSelect" onchange="deriveAddress(this)" required>
							<option></option>
							<option th:each="municipalIter : ${empAddress.municipalList}" th:value="${municipalIter.municipalId}" 
								th:text="${municipalIter.municipalName}" th:selected="${empAddress.municipal.municipalId == municipalIter.municipalId}" >Municipal</option>
						</select>
		        	</div >
		        	<div class="col">
		        		<label th:for="'barangay'+${iter.index}" class="form-label">Barangay</label >
	                    <!--<input th:if="${!isUpdate}" type="text" name="barangay" th:id="'barangay'+${iter.index}" class="form-control" th:name="'employeeAddress[' + ${iter.index} + '].barangay'" th:value="${empAddress.barangay.barangayName}" th:readonly="${!isUpdate}" readonly required>-->
	                    <select th:disabled="${!isUpdate}" th:id="'barangay'+${iter.index}" th:name="'employeeAddress[' + ${iter.index} + '].barangay'" class="form-select form-control" aria-label="RegionSelect" required>
							<option></option>
							<option th:each="barangayIter : ${empAddress.barangayList}" th:value="${barangayIter.barangayId}" 
								th:text="${barangayIter.barangayName}"
								th:selected="${empAddress.barangay.barangayId == barangayIter.barangayId}" >Barangay</option>
						</select>
		        	</div >
		        	<div class="col-4">
		        		<label th:for="'street'+${iter.index}" class="form-label">Street Name & House No.</label >
	                    <input type="text" name="street" th:id="'street'+${iter.index}" class="form-control" th:name="'employeeAddress[' + ${iter.index} + '].street'" th:value="${empAddress.street}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
		        </div>
		        <div th:if="${isUpdate}">
		        	<hr>
			        <button class="btn btn-primary" type="submit" id="submitBtn">Save</button >
			        <button class="btn btn-secondary" type="reset">Reset</button >
			        <!--<input class="btn btn-secondary" type="reset" value="Reset">-->
			        <a class="btn btn-secondary" href="#" th:href="@{__${#httpServletRequest.requestURI}__}">Cancel</a>
		        </div >
			</form >
		</tr>
		
		<!-- Employee Info -->
		<tr th:fragment="3">
			<form action="#" th:action="@{__${#httpServletRequest.requestURI}__}" method="POST" id="employeeForm" >
				<input type="hidden" th:name="employeeInfo.employeeId" th:value="${res.employeeId}" />
				<h5>Emergency Contact</h5>
				<div class="row">
		        	<div class="col">
		        		<label for="emergencyName" class="form-label">Name</label >
	                    <input type="text" name="emergencyName" th:name="employeeInfo.emergencyName" id="emergencyName" class="form-control" th:value="${res.employeeInfo.emergencyName}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
		        	<div class="col">
		        		<label for="emergencyAddress" class="form-label">Address</label >
	                    <input type="text" name="emergencyAddress" th:name="employeeInfo.emergencyAddress" id="emergencyAddress" class="form-control" th:value="${res.employeeInfo.emergencyAddress}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
		        	<div class="col">
		        		<label for="emergencyContact" class="form-label">Contact No</label >
	                    <input type="text" name="emergencyContact" th:name="employeeInfo.emergencyContact" id="emergencyContact" class="form-control" th:value="${res.employeeInfo.emergencyContact}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
		        </div>
		        <hr>
				<h5>Family Info</h5>
				<div class="row">
		        	<div class="col">
		        		<label for="fatherName" class="form-label">Father Name</label >
	                    <input type="text" name="fatherName" th:name="employeeInfo.fatherName" id="fatherName" class="form-control" th:value="${res.employeeInfo.fatherName}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
		        	<div class="col">
		        		<label for="fatherBirthdate" class="form-label">Father Birthdate</label >
	                    <input type="date" name="fatherBirthdate" th:name="employeeInfo.fatherBirthdate" id="fatherBirthdate" class="form-control" th:value="${res.employeeInfo.fatherBirthdate}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
		        	<div class="col">
		        		<label for="motherName" class="form-label">Mother Name</label >
	                    <input type="text" name="motherName" th:name="employeeInfo.motherName" id="motherName" class="form-control" th:value="${res.employeeInfo.motherName}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
		        	<div class="col">
		        		<label for="motherBirthdate" class="form-label">Mother Birthdate</label >
	                    <input type="date" name="motherBirthdate" th:name="employeeInfo.motherBirthdate" id="motherBirthdate" class="form-control" th:value="${res.employeeInfo.motherBirthdate}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
		        </div>
		        <div th:if="${isUpdate}">
		        	<hr>
			        <button class="btn btn-primary" type="submit" id="submitBtn">Save</button >
			        <button class="btn btn-secondary" type="reset">Reset</button >
			        <!--<input class="btn btn-secondary" type="reset" value="Reset">-->
			        <a class="btn btn-secondary" href="#" th:href="@{__${#httpServletRequest.requestURI}__}">Cancel</a>
		        </div >
			</form>
		</tr>
		
		<!-- Employee Dependents -->
		<tr th:fragment="4">
			<form action="#" th:action="@{__${#httpServletRequest.requestURI}__}" method="POST" id="employeeForm" >
		        <h5>Employee Dependent(s)</h5>
		        <div class="row" th:each="employeeDependent,iter : ${res.employeeDependentList}">
					<input type="hidden" th:name="'employeeDependent[' + ${iter.index} + '].id.dependentId'" th:value="${employeeDependent.dependentId}" />
					<input type="hidden" th:name="'employeeDependent[' + ${iter.index} + '].id.employeeId'" th:value="${res.employeeId}" />
		        	<div class="col">
		        		<label for="dependentName" class="form-label">Dependent Name</label >
	                    <input type="text" name="dependentName" th:name="'employeeDependent[' + ${iter.index} + '].dependentName'" id="dependentName" class="form-control" th:value="${employeeDependent.dependentName}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
		        	<div class="col-auto">
		        		<label for="dependentBirthdate" class="form-label">Birthdate</label >
	                    <input type="date" name="dependentBirthdate" th:name="'employeeDependent[' + ${iter.index} + '].dependentBirthdate'" id="dependentBirthdate" class="form-control" th:value="${employeeDependent.dependentBirthdate}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
		        	<div class="col-auto">
		        		<label for="gender" class="form-label">Gender</label >
		        		<div class="input-group mb-2">
		                    <select name="gender" th:name="'employeeDependent[' + ${iter.index} + '].gender'" class="form-select form-control" aria-label="GenderSelect" th:disabled="${!isUpdate}" required>
								<option th:each="gender : ${genderList}" th:value="${gender.id.code}" th:text="${gender.description}" 
									th:selected="${employeeDependent.gender == gender.id.code}" >MaritalStatus</option>
							</select>
			        		<a th:if="${isUpdate}" type="button" class="btn btn-outline-danger" th:text="Remove" 
			        			th:href="@{__${#httpServletRequest.requestURI}__/delete?dependentId=} + ${employeeDependent.dependentId}"></a >
		        		</div>
		        	</div >
		        </div>
		        <div class="row justify-content-center" th:if="${!isUpdate}">
		        	<div class="col-4">
		        		<a class="btn btn-outline-primary w-100" th:text="'Add Dependent'" href="#"  th:href="@{__${#httpServletRequest.requestURI}__/add}">Add</a>
		        	</div>
		        </div>
		        <div th:if="${isUpdate}">
		        	<hr>
			        <button class="btn btn-primary" type="submit" id="submitBtn">Save</button >
			        <button class="btn btn-secondary" type="reset">Reset</button >
			        <!--<input class="btn btn-secondary" type="reset" value="Reset">-->
			        <a class="btn btn-secondary" href="#" th:href="@{__${#httpServletRequest.requestURI}__}">Cancel</a>
		        </div >
			</form>
		</tr>
		
		<!-- Register Employee Dependents -->
		<tr th:fragment="5">
			<form action="#" th:action="@{__${#httpServletRequest.requestURI}__}" method="POST" id="employeeForm" >
		        <h5>Add an Employee Dependent(s)</h5>
		        <input type="hidden" th:name="employeeId" th:value="${res.employeeId}" />
		        <div class="" id="addDependentForm">
		        </div>
		        <div class="row justify-content-center">
		        	<div class="col-4">
		        		<a class="btn btn-outline-primary w-100" th:text="'Add Dependent'" id="addDependent" href="#">Add</a>
		        	</div>
		        </div>
		        <div>
		        	<hr>
			        <button class="btn btn-primary" type="submit" id="submitBtn">Save</button >
			        <button class="btn btn-secondary" type="reset">Reset</button >
			        <!--<input class="btn btn-secondary" type="reset" value="Reset">-->
			        <!--<a class="btn btn-secondary" href="#" th:href="@{__${#httpServletRequest.requestURI}__}">Refresh</a>-->
			        <a class="btn btn-secondary" href="#" th:href="@{/employee/}+${res.employeeId}+@{/dependent}">Cancel</a>
		        </div >
			</form>
		</tr>
		
		<!-- Employee Benefits -->
		<tr th:fragment="6">
			<form action="#" th:action="@{__${#httpServletRequest.requestURI}__}" method="POST" id="employeeForm" >
			<input type="hidden" th:name="employeeBenefits.employeeId" th:value="${res.employeeId}" />
				<h5>Benefits Information</h5>
				<div class="row">
		        	<div class="col-3">
		        		<label for="sssNo" class="form-label">SSS No</label >
	                    <input type="text" name="sssNo" th:name="employeeBenefits.sssNo" id="sssNo" class="form-control" th:value="${res.employeeBenefits.sssNo}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
		        	<div class="col-3">
		        		<label for="sssMembershipDate" class="form-label">SSS Membership Date</label >
	                    <input type="date" name="sssMembershipDate" th:name="employeeBenefits.sssMembershipDate" id="sssMembershipDate" class="form-control" th:value="${res.employeeBenefits.sssMembershipDate}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
				</div>
				<div class="row">
					<div class="col-3">
		        		<label for="philHealthNo" class="form-label">PhilHealth No</label >
	                    <input type="text" name="philHealthNo" th:name="employeeBenefits.philhealthNo" id="philHealthNo" class="form-control" th:value="${res.employeeBenefits.philHealthNo}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
		        	<div class="col-3">
		        		<label for="philHealthMembershipDate" class="form-label">PhilHealth Membership Date</label >
	                    <input type="date" name="philHealthMembershipDate" th:name="employeeBenefits.philhealthMembershipDate" id="philHealthMembershipDate" class="form-control" th:value="${res.employeeBenefits.philHealthMembershipDate}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
				</div>
				<div class="row">
		        	<div class="col-3">
		        		<label for="pagibigNo" class="form-label">PAG-IBIG No</label >
	                    <input type="text" name="pagibigNo" th:name="employeeBenefits.pagibigNo" id="pagibigNo" class="form-control" th:value="${res.employeeBenefits.pagibigNo}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
		        	<div class="col-3">
		        		<label for="pagibigMembershipDate" class="form-label">PAG-IBIG Membership Date</label >
	                    <input type="date" name="pagibigMembershipDate" th:name="employeeBenefits.pagibigMembershipDate" id="pagibigMembershipDate" class="form-control" th:value="${res.employeeBenefits.pagibigMembershipDate}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
				</div>
				<div class="row">
		        	<div class="col-3">
		        		<label for="tinNo" class="form-label">TIN No</label >
	                    <input type="text" name="tinNo" id="tinNo" th:name="employeeBenefits.tinNo" class="form-control" th:value="${res.employeeBenefits.tinNo}" th:readonly="${!isUpdate}" readonly required>
		        	</div >
		        </div>
		        <div th:if="${isUpdate}">
		        	<hr>
			        <button class="btn btn-primary" type="submit" id="submitBtn">Save</button >
			        <button class="btn btn-secondary" type="reset">Reset</button >
			        <!--<input class="btn btn-secondary" type="reset" value="Reset">-->
			        <a class="btn btn-secondary" href="#" th:href="@{__${#httpServletRequest.requestURI}__}">Cancel</a>
		        </div >
			</form>
		</tr>
	</body>
</html>